# ====== PostgreSQL Connection (Required) ======
# Database hostname (default: postgres for Docker network)
POSTGRES_HOST=postgres

# Database port (default: 5432)
POSTGRES_PORT=5432

# Database user (required)
POSTGRES_USER=your_database_user

# Database password (required)
POSTGRES_PASSWORD=your_database_password

# Database name (required)
POSTGRES_DB=your_database_name

# ====== Backup Options ======
# Base name for backup files (default: postgres_db)
# Backup filename format: {BASE_NAME}_{TIMESTAMP}_v{VERSION}_{TYPE}.dump
# Example: postgres_db_20260219_030000_v7_daily.dump
BACKUP_BASE_NAME=postgres_db

# Number of daily backups to keep (default: 7)
BACKUP_RETENTION_DAILY=7

# Number of weekly backups to keep (default: 4)
BACKUP_RETENTION_WEEKLY=4

# Compression level for pg_dump: 0-9, default is 9 (maximum)
BACKUP_COMPRESSION_LEVEL=9

# ====== Scheduler Options ======
# Cloud sync check interval in seconds (default: 1800 = 30 minutes)
# The scheduler will check for new local backups to upload to GCS at this interval
SCHEDULER_SYNC_INTERVAL_SECONDS=1800

# ====== Google Cloud Storage (Optional) ======
# GCS bucket name (required for cloud backup)
GCS_BUCKET_NAME=your-gcs-bucket-name

# Path to GCS service account credentials JSON (default: /gcs-credentials/credentials.json)
GCS_CREDENTIALS_PATH=/gcs-credentials/credentials.json

# Backup prefix in GCS bucket (default: backups/postgres)
GCS_BACKUP_PREFIX=backups/postgres

# Maximum upload retry attempts (default: 3)
GCS_UPLOAD_RETRY_MAX=3

# Cloud retention policy - automatic cleanup of old backups in GCS
# Disabled by default - set to true to enable (opt-in for safety)
GCS_RETENTION_ENABLED=false

# Number of daily backups to keep in cloud (only used if GCS_RETENTION_ENABLED=true)
# Cloud retention is typically longer than local retention for disaster recovery
GCS_RETENTION_DAILY=30

# Number of weekly backups to keep in cloud (only used if GCS_RETENTION_ENABLED=true)
GCS_RETENTION_WEEKLY=90

# ====== Logging Options ======
# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO
